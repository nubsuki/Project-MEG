<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="controlpanel.css">
    <link rel="stylesheet" href="Addons/navbar.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <script type="module" src="controlpanel.js"></script>
    <title>MEG</title>
</head>
<body>
     <!--Background-->
     <section>
        <iframe src="Addons/background2.html" class="sectionbg"></iframe>
    </section>
    <!--Navbar-->
    <section>
        <nav class="navbar">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a href="profile.html" class="nav-link">
                        <i class="bi bi-person-circle"></i>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="index.html" class="nav-link">
                        <i class="bi bi-paperclip"></i>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="Features/chatroom.html" class="nav-link">
                        <i class="bi bi-app-indicator"></i>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link">
                        <i class="bi bi-camera-reels"></i>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link">
                        <i class="bi bi-wikipedia"></i>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="logout">
                        <i class="bi bi-box-arrow-left"></i>
                    </a>
                </li>
            </ul>
        </nav>
    </section>
    <!--Buttons-->
    <div class="button-container">
        <div class="addNewsIcon" id="addnewsbtn">
            <i class="bi bi-file-earmark-plus"></i>
            <p>Add News</p>
        </div>
        <div class="addTags">
            <i class="bi bi-tags"></i>
            <p>Add Tags</p>
        </div>
        <div class="reports">
            <i class="bi bi-file-earmark-bar-graph"></i>
            <p>Reports</p>
        </div>
    </div>    
    <!--Addnews-->
    <section class="newsfeedaddsection" id="nfaddsection" style="display: none;">
        <div class="nfaddform" id="nfaddform" >
            <div class="nfcloseicon" id="nfaddclose" >
                <i class="bi bi-x icon2"></i>
            </div>
            <form id="newsForm">
                <label for="title">Title:</label>
                <input type="text" id="title" name="title" required><br><br>

                <label for="description">Description:</label><br>
                <textarea id="description" name="description" rows="4" maxlength="150" required></textarea><br>
                <span id="charCount" style="margin-left: 10px;">100</span> characters remaining.<br><br>

                <script>
                    // Get the textarea element
                    var description = document.getElementById("description");

                    // Get the span element to display character count
                    var charCount = document.getElementById("charCount");

                    // Set initial character count
                    charCount.textContent = description.maxLength;

                    // Add input event listener
                    description.addEventListener("input", function () {
                        // Calculate remaining characters
                        var remainingChars = description.maxLength - description.value.length;

                        // Update character count
                        charCount.textContent = remainingChars;

                        // If character limit exceeded, truncate the input
                        if (remainingChars < 0) {
                            description.value = description.value.slice(0, description.maxLength);
                            charCount.textContent = 0;
                        }
                    });
                </script>

                <label for="imageFile">Image File:</label>
                <input type="file" id="imageFile" name="imageFile" accept="image/*" required><br><br>

                <label for="category">Category:</label>
                <input type="text" id="category" name="category" required><br><br>

                <label for="link">Full Article Link:</label>
                <input type="url" id="link" name="link" required><br><br>

                <button type="submit">
                    <span id="addNewsText">Add News</span>
                    <span class="loader" id="loader">
                        <span class="loader-inner"></span>
                    </span>
                </button>
            </form>
        </div>
    </section>
    <script type="module" src="Addons/navbar.js"></script>
</body>
</html>